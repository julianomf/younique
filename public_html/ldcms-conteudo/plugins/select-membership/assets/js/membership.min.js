if(function(e,o,s){var a,t=e.getElementsByTagName(o)[0];e.getElementById(s)||((a=e.createElement(o)).id=s,a.src="//connect.facebook.net/en_US/sdk.js",t.parentNode.insertBefore(a,t))}(document,"script","facebook-jssdk"),"undefined"!=typeof qodefSocialLoginVars)var facebookAppId=qodefSocialLoginVars.social.facebookAppId;facebookAppId&&(window.fbAsyncInit=function(){FB.init({appId:facebookAppId,cookie:!0,xfbml:!0,version:"v2.5"}),window.FB=FB}),function(n){"use strict";var e={};function o(){var e=n(".qodef-login-opener"),o=n(".qodef-login-register-holder");if(n(document.body).on("open_user_login_trigger",function(){o.fadeIn(300),o.addClass("opened")}),e){var s=n(".qodef-login-register-content");e.click(function(e){e.preventDefault(),o.fadeIn(300),o.addClass("opened")}),o.click(function(e){o.hasClass("opened")&&(o.fadeOut(300),o.removeClass("opened"))}),s.click(function(e){e.stopPropagation()}),n(window).on("keyup",function(e){o.hasClass("opened")&&27==e.keyCode&&(o.fadeOut(300),o.removeClass("opened"))}),s.tabs()}}function s(){n(".qodef-login-form").on("submit",function(e){e.preventDefault();var o={action:"qodef_membership_login_user",security:n(this).find("#qodef-login-security").val(),login_data:n(this).serialize()};return i({status:"sent",message:n(this).find("#login-form-submitted").val()}),n.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;i(o=JSON.parse(e)),"success"==o.status&&(window.location=o.redirect)}}),!1})}function a(){n(".qodef-register-form").on("submit",function(e){e.preventDefault();var o={action:"qodef_membership_register_user",security:n(this).find("#qodef-register-security").val(),register_data:n(this).serialize()};return i({status:"sent",message:n(this).find("#register-form-submitted").val()}),n.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;i(o=JSON.parse(e)),"success"==o.status&&(window.location=o.redirect)}}),!1})}function t(){var s=n(".qodef-reset-pass-form");s.submit(function(e){e.preventDefault();var o={action:"qodef_membership_user_lost_password",user_login:s.find("#user_reset_password_login").val()};i({status:"sent",message:n(this).find("#password-form-submitted").val()}),n.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);i(o),"success"==o.status&&(window.location=o.redirect)}})})}function i(e){var o=n(".qodef-membership-response-holder"),s=_.template(n(".qodef-membership-response-template").html())({messageClass:"sent"===e.status?"qodef-membership-message-sent":"success"===e.status?"qodef-membership-message-succes":"qodef-membership-message-error",message:e.message});o.html(s)}function r(){n(".qodef-facebook-login-holder").submit(function(e){e.preventDefault(),window.FB.login(function(e){var o;"connected"===(o=e).status?(console.log("Welcome! Fetching information from Facebook..."),FB.api("/me","GET",{fields:"id, name, email, link, picture"},function(e){var o=n(".qodef-facebook-login-holder [name^=qodef_nonce_facebook_login]").val();e.nonce=o,e.image=e.picture.data.url;var s={action:"qodef_membership_check_facebook_user",response:e};n.ajax({type:"POST",data:s,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;i(o=JSON.parse(e)),"success"==o.status&&(window.location=o.redirect)}})})):"not_authorized"===o.status?console.log("Please log into this app"):console.log("Please log into Facebook")},{scope:"email, public_profile"})})}function d(){if("undefined"!=typeof qodefSocialLoginVars)var e=qodefSocialLoginVars.social.googleClientId;e?gapi.load("auth2",function(){window.auth2=gapi.auth2.init({client_id:e}),n(".qodef-google-login-holder").submit(function(e){e.preventDefault(),window.auth2.signIn(),function(){if(window.auth2.isSignedIn.get()){var e=window.auth2.currentUser.get(),o=e.getBasicProfile(),s=n(".qodef-google-login-holder [name^=qodef_nonce_google_login]").val(),a={id:o.getId(),name:o.getName(),email:o.getEmail(),image:o.getImageUrl(),link:"https://plus.google.com/"+o.getId(),nonce:s},t={action:"qodef_membership_check_google_user",response:a};n.ajax({type:"POST",data:t,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;i(o=JSON.parse(e)),"success"==o.status&&(window.location=o.redirect)}})}}()})}):n(".qodef-google-login-holder").submit(function(e){e.preventDefault()})}"undefined"!=typeof qodef&&(qodef.modules.socialLogin=e),e.qodefUserLogin=s,e.qodefUserRegister=a,e.qodefUserLostPassword=t,e.qodefInitLoginWidgetModal=o,e.qodefInitFacebookLogin=r,e.qodefInitGooglePlusLogin=d,e.qodefRenderAjaxResponseMessage=i,n(document).ready(function(){o(),s(),a(),t()}),n(window).load(function(){r(),d(),function(){n(".qodef-membership-main-wrapper");var e=n(".page-template-user-dashboard .qodef-content"),o=n(".qodef-page-footer"),s=0;!qodef.body.hasClass("qodef-header-transparent")&&1024<qodef.windowWidth&&(s=s+qodefGlobalVars.vars.qodefMenuAreaHeight+qodefGlobalVars.vars.qodefLogoAreaHeight);0<o.length&&(s+=o.outerHeight());if(1024<qodef.windowWidth){var a=qodef.windowHeight-s;e.css({"min-height":a+"px"})}}()}),n(window).resize(function(){}),n(window).scroll(function(){})}(jQuery),function(n){"use strict";var e={};function o(){s(),n(document.body).on("qodef_membership_favorites_trigger",function(){s()})}function s(){n(".qodef-membership-item-favorites").on("click",function(e){e.preventDefault();var o,s,a,t=n(this);void 0!==t.data("item-id")&&(o=t.data("item-id")),s=t,a={action:"qodef_membership_add_item_to_favorites",item_id:o},n.ajax({type:"POST",data:a,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);"success"==o.status&&(s.hasClass("qodef-icon-only")||s.find("span").text(o.data.message),s.find(".qodef-favorites-icon").removeClass("fa-heart fa-heart-o").addClass(o.data.icon))}})})}(qodef.modules.membershipFavorites=e).qodefOnDocumentReady=o,n(document).ready(o)}(jQuery);